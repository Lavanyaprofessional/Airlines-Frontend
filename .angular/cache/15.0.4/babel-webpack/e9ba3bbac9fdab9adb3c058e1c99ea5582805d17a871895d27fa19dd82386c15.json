{"ast":null,"code":"import { Flight } from '../flight';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/flight-service.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nfunction FlightDetailsComponent_tr_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\")(10, \"button\", 2);\n    i0.ɵɵlistener(\"click\", function FlightDetailsComponent_tr_16_Template_button_click_10_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.bookFlight());\n    });\n    i0.ɵɵtext(11, \"Book\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const flight_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", flight_r1.flightId, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", flight_r1.origin, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", flight_r1.destination, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", flight_r1.flightdate, \" \");\n  }\n}\nexport class FlightDetailsComponent {\n  constructor(flightService, route, router) {\n    this.flightService = flightService;\n    this.route = route;\n    this.router = router;\n    this.flight = new Flight();\n    this.flight.origin = this.route.snapshot.paramMap.get('origin');\n    this.flight.destination = this.route.snapshot.paramMap.get('destination');\n    this.flight.flightdate = this.route.snapshot.paramMap.get('date');\n    this.flights = [];\n    console.log(this.flight);\n    this.getFlightDetails();\n  }\n  ngOnInit() {}\n  getFlightDetails() {\n    this.flightService.getAvailableFlights(this.flight.origin, this.flight.destination, this.flight.flightdate).subscribe(data => {\n      this.flights = data;\n      console.log(this.flights);\n    }, error => console.log(error));\n  }\n  bookFlight() {\n    this.router.navigate(['/book-flight', {\n      origin: this.flight.origin,\n      destination: this.flight.destination,\n      flightdate: this.flight.flightdate\n    }]);\n    //this.router.navigate(['book-flight'])\n  }\n}\n\nFlightDetailsComponent.ɵfac = function FlightDetailsComponent_Factory(t) {\n  return new (t || FlightDetailsComponent)(i0.ɵɵdirectiveInject(i1.FlightServiceService), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i2.Router));\n};\nFlightDetailsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: FlightDetailsComponent,\n  selectors: [[\"app-flight-details\"]],\n  decls: 17,\n  vars: 1,\n  consts: [[1, \"table\", \"table-stripped\"], [4, \"ngFor\", \"ngForOf\"], [\"type\", \"book\", 1, \"btn\", \"btn-info\", 2, \"width\", \"100px\", 3, \"click\"]],\n  template: function FlightDetailsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h1\");\n      i0.ɵɵtext(1, \"Flight Details\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"table\", 0)(3, \"thead\")(4, \"tr\")(5, \"th\");\n      i0.ɵɵtext(6, \"Fight Number\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"th\");\n      i0.ɵɵtext(8, \"Origin\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"th\");\n      i0.ɵɵtext(10, \"Destination\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"th\");\n      i0.ɵɵtext(12, \"Flight Date\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"th\");\n      i0.ɵɵtext(14, \"Actions\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(15, \"tbody\");\n      i0.ɵɵtemplate(16, FlightDetailsComponent_tr_16_Template, 12, 4, \"tr\", 1);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(16);\n      i0.ɵɵproperty(\"ngForOf\", ctx.flights);\n    }\n  },\n  dependencies: [i3.NgForOf],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"AACA,SAASA,MAAM,QAAQ,WAAW;;;;;;;;ICW1BC,0BAAqC;IAC5BA,YAAoB;IAAAA,iBAAK;IAC9BA,0BAAI;IAACA,YAAkB;IAAAA,iBAAK;IAC5BA,0BAAI;IAACA,YAAuB;IAAAA,iBAAK;IACjCA,0BAAI;IAACA,YAAsB;IAAAA,iBAAK;IAChCA,0BAAI;IACQA;MAAAA;MAAA;MAAA,OAASA,kCAAY;IAAA,EAAC;IAAuDA,qBAAI;IAAAA,iBAAS;;;;IALjGA,eAAoB;IAApBA,mDAAoB;IACpBA,eAAkB;IAAlBA,iDAAkB;IAClBA,eAAuB;IAAvBA,sDAAuB;IACvBA,eAAsB;IAAtBA,qDAAsB;;;ADLvC,OAAM,MAAOC,sBAAsB;EAMnCC,YAAoBC,aAAmC,EAAUC,KAAoB,EAAUC,MAAc;IAAzF,kBAAa,GAAbF,aAAa;IAAgC,UAAK,GAALC,KAAK;IAAyB,WAAM,GAANC,MAAM;IAJnG,WAAM,GAAS,IAAIN,MAAM,EAAE;IAK3B,IAAI,CAACO,MAAM,CAACC,MAAM,GAAC,IAAI,CAACH,KAAK,CAACI,QAAQ,CAACC,QAAQ,CAACC,GAAG,CAAC,QAAQ,CAAE;IAC9D,IAAI,CAACJ,MAAM,CAACK,WAAW,GAAC,IAAI,CAACP,KAAK,CAACI,QAAQ,CAACC,QAAQ,CAACC,GAAG,CAAC,aAAa,CAAE;IACxE,IAAI,CAACJ,MAAM,CAACM,UAAU,GAAC,IAAI,CAACR,KAAK,CAACI,QAAQ,CAACC,QAAQ,CAACC,GAAG,CAAC,MAAM,CAAE;IAEhE,IAAI,CAACG,OAAO,GAAC,EAAE;IACfC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACT,MAAM,CAAC;IACxB,IAAI,CAACU,gBAAgB,EAAE;EAGzB;EACAC,QAAQ,IAER;EAEQD,gBAAgB;IACtB,IAAI,CAACb,aAAa,CAACe,mBAAmB,CAAC,IAAI,CAACZ,MAAM,CAACC,MAAM,EAAE,IAAI,CAACD,MAAM,CAACK,WAAW,EAAE,IAAI,CAACL,MAAM,CAACM,UAAU,CAAC,CAACO,SAAS,CAACC,IAAI,IAAE;MAC1H,IAAI,CAACP,OAAO,GAACO,IAAI;MACjBN,OAAO,CAACC,GAAG,CAAC,IAAI,CAACF,OAAO,CAAC;IAE3B,CAAC,EAACQ,KAAK,IAAEP,OAAO,CAACC,GAAG,CAACM,KAAK,CAAC,CAAC;EAE9B;EACAC,UAAU;IACR,IAAI,CAACjB,MAAM,CAACkB,QAAQ,CAAC,CAAC,cAAc,EAAC;MAAChB,MAAM,EAAC,IAAI,CAACD,MAAM,CAACC,MAAM;MAAEI,WAAW,EAAE,IAAI,CAACL,MAAM,CAACK,WAAW;MAAEC,UAAU,EAAE,IAAI,CAACN,MAAM,CAACM;IAAU,CAAC,CAAC,CAAC;IAC5I;EACF;;;AAhCaX,sBAAsB;mBAAtBA,sBAAsB;AAAA;AAAtBA,sBAAsB;QAAtBA,sBAAsB;EAAAuB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCXnC5B,0BAAI;MAAAA,8BAAc;MAAAA,iBAAK;MACvBA,gCAAoC;MAGpBA,4BAAY;MAAAA,iBAAK;MACrBA,0BAAI;MAAAA,sBAAM;MAAAA,iBAAK;MACfA,0BAAI;MAAAA,4BAAW;MAAAA,iBAAK;MACpBA,2BAAI;MAAAA,4BAAW;MAAAA,iBAAK;MACpBA,2BAAI;MAAAA,wBAAO;MAAAA,iBAAK;MAGxBA,8BAAO;MACHA,wEAQK;MACTA,iBAAQ;;;MATqBA,gBAAU;MAAVA,qCAAU","names":["Flight","i0","FlightDetailsComponent","constructor","flightService","route","router","flight","origin","snapshot","paramMap","get","destination","flightdate","flights","console","log","getFlightDetails","ngOnInit","getAvailableFlights","subscribe","data","error","bookFlight","navigate","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\New folder\\Airline-Frontend\\Airlines-Frontend\\src\\app\\flight-details\\flight-details.component.ts","C:\\New folder\\Airline-Frontend\\Airlines-Frontend\\src\\app\\flight-details\\flight-details.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { Flight } from '../flight';\r\nimport { FlightServiceService } from '../services/flight-service.service';\r\nimport {ActivatedRoute, Router} from '@angular/router'\r\n\r\n\r\n@Component({\r\n  selector: 'app-flight-details',\r\n  templateUrl: './flight-details.component.html',\r\n  styleUrls: ['./flight-details.component.css']\r\n})\r\nexport class FlightDetailsComponent implements OnInit {\r\n\r\n  flight: Flight=new Flight();\r\n  flights :Flight[];\r\n  \r\n\r\nconstructor(private flightService: FlightServiceService, private route:ActivatedRoute, private router: Router ){\r\n  this.flight.origin=this.route.snapshot.paramMap.get('origin')!\r\n  this.flight.destination=this.route.snapshot.paramMap.get('destination')!\r\n  this.flight.flightdate=this.route.snapshot.paramMap.get('date')!\r\n\r\n  this.flights=[]\r\n  console.log(this.flight)\r\n  this.getFlightDetails()\r\n  \r\n\r\n}\r\nngOnInit(): void {\r\n  \r\n}\r\n\r\nprivate getFlightDetails(){\r\n  this.flightService.getAvailableFlights(this.flight.origin, this.flight.destination, this.flight.flightdate).subscribe(data=>{\r\n    this.flights=data;\r\n    console.log(this.flights);\r\n    \r\n  },error=>console.log(error))\r\n\r\n}\r\nbookFlight(){\r\n  this.router.navigate(['/book-flight',{origin:this.flight.origin, destination: this.flight.destination, flightdate: this.flight.flightdate}])\r\n  //this.router.navigate(['book-flight'])\r\n}\r\n\r\n}\r\n\r\n","<h1>Flight Details</h1>\r\n<table class=\"table table-stripped\">\r\n    <thead>\r\n        <tr>\r\n            <th>Fight Number</th>\r\n            <th>Origin</th>\r\n            <th>Destination</th>\r\n            <th>Flight Date</th>\r\n            <th>Actions</th>\r\n        </tr>\r\n    </thead>\r\n    <tbody>\r\n        <tr *ngFor = \"let flight of flights\">\r\n            <td> {{flight.flightId}} </td>\r\n            <td> {{flight.origin}} </td>\r\n            <td> {{flight.destination}} </td>\r\n            <td> {{flight.flightdate}} </td>\r\n            <td>\r\n                <button (click)=\"bookFlight()\"class=\"btn btn-info\" style=\"width: 100px;\" type=\"book\">Book</button>\r\n            </td>\r\n        </tr>\r\n    </tbody>\r\n</table>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}